<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="{{url_for('static',filename='smart_bank.png')}}">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <link
      href="{{ url_for('static', filename='style.css') }}"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <title>Smart Bank - Transaction History</title>
</head>
<body>

<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
        <div class="d-flex">
    <a class="navbar-brand" href="{{url_for('index')}}">
      <img src="{{url_for('static',filename='smart_bank.png')}}" alt="Logo" width="50" height="45" class="d-inline-block align-text-top">
   Smart Bank 
</a> 
    </div>

        <div class="navbar-nav nav-pills ms-auto text-end">
          <li>
            <a class="nav-link" href="{{url_for('admin')}}">Back</a>
          </li>
        </div>
  </div>
</nav>

<br/>

    <div>
      <h4 class="text-center">CUSTOMER TRANSACTION HISTORY</h4>
            <div class="operation_bar d-flex justify-content-between m-3">
        <input
          type="text"
          id="searchInput"
          onkeyup="searchTable()"
          placeholder="Type to search account number"
        />

            <a href="{{ url_for('export_transactions') }}" class="btn btn-success p-3">
         <i class="bi bi-download"></i> Download File
        </a>


      </div>
        <div class="table-responsive">
            <table class="table table-striped m-3">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Date / Time</th>
                        <th>Sender Acc No</th>
                        <th>Receiver Acc No</th>
                        <th>Amount</th>
                    </tr>
                </thead>
                <tbody>
                    {% if trans %}
                        {% for t in trans %}
                        <tr>
                            <td>{{ t.id }}</td>
                            <td>{{ t.timestamp }}</td>
                            <td>{{ t.from_account }}</td>
                            <td>{{ t.to_account }}</td>
                            <td>{{ 'â‚¹{:,.2f}'.format(t.amount) }}</td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="4" class="text-center">No transactions found</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>


<script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="{{ url_for('static', filename='script.js') }}"
    ></script>
</body>
</html>